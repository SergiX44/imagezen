"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8283],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>d});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var m=a.createContext({}),p=function(e){var t=a.useContext(m),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},s=function(e){var t=p(e.components);return a.createElement(m.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,m=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),c=p(n),g=r,d=c["".concat(m,".").concat(g)]||c[g]||u[g]||i;return n?a.createElement(d,l(l({ref:t},s),{},{components:n})):a.createElement(d,l({ref:t},s))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=g;var o={};for(var m in t)hasOwnProperty.call(t,m)&&(o[m]=t[m]);o.originalType=e,o[c]="string"==typeof e?e:r,l[1]=o;for(var p=2;p<i;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},9698:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const i={sidebar_position:3},l="Extending",o={unversionedId:"extend",id:"extend",title:"Extending",description:"You can add your own filters, which is basically a collection of methods that you can apply to an image, or create",source:"@site/docs/extend.md",sourceDirName:".",slug:"/extend",permalink:"/imagezen/docs/extend",draft:!1,editUrl:"https://github.com/sergix44/imagezen/tree/master/docs/docs/extend.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Supported Formats",permalink:"/imagezen/docs/supported-formats"},next:{title:"Available Methods",permalink:"/imagezen/docs/category/available-methods"}},m={},p=[{value:"Filters",id:"filters",level:2},{value:"Alterations",id:"alterations",level:2}],s={toc:p},c="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"extending"},"Extending"),(0,r.kt)("p",null,"You can add your own filters, which is basically a collection of methods that you can apply to an image, or create\nyour own alterations, which is a single method that you can apply to an image."),(0,r.kt)("h2",{id:"filters"},"Filters"),(0,r.kt)("p",null,"Filters are a collection of methods that you can apply to an image, a filter must implement the\n",(0,r.kt)("inlineCode",{parentName:"p"},"SergiX44\\ImageZen\\Filter"),"."),(0,r.kt)("p",null,"Here an example of a filter that adds a watermark to an image:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"use SergiX44\\ImageZen\\Filter;\nuse SergiX44\\ImageZen\\Image;\n\nclass BlurAndGrayscaleFilter implements Filter\n{\n    public function apply(Image $image): mixed\n    {\n        $image->blur(10)\n        ->greyscale();\n    }\n}\n")),(0,r.kt)("p",null,"Then you can apply it to an image:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"use SergiX44\\ImageZen\\Image;\n\n$image = Image::make('path/to/image.jpg')\n    ->filter(new BlurAndGrayscaleFilter());\n")),(0,r.kt)("h2",{id:"alterations"},"Alterations"),(0,r.kt)("p",null,"Alterations are a single method that you can apply to an image, an alteration must extend\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"SergiX44\\ImageZen\\Alteration"),".\nAn alteration by itself is not useful, your need to implement the driver interface, which is the class that actually\napplies the alteration to the image, using a specific backend.\nThe available driver interfaces are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SergiX44\\ImageZen\\Drivers\\Gd\\GdAlteration")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SergiX44\\ImageZen\\Drivers\\Imagick\\ImagickAlteration"))),(0,r.kt)("p",null,"Here an example of how a ",(0,r.kt)("inlineCode",{parentName:"p"},"myInvert")," alteration can be implemented:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"use SergiX44\\ImageZen\\Alteration;\nuse SergiX44\\ImageZen\\Drivers\\Gd\\GdAlteration;\nuse SergiX44\\ImageZen\\Drivers\\Imagick\\ImagickAlteration;\nuse SergiX44\\ImageZen\\Image;\n\nclass MyInvert extends Alteration implements GdAlteration, ImagickAlteration\n{\n    public static string $id = 'myInvert';\n    \n    public function __construct(public int $myParam)\n    {\n    }\n\n    public function applyWithGd(Image $image): null\n    {\n        // do something with the image, for example:\n        imagefilter($image->getCore(), IMG_FILTER_NEGATE);\n        return null;\n    }\n\n    public function applyWithImagick(Image $image): null\n    {\n    // do something with the image, for example:\n        $image->getCore()->negateImage(false, \\Imagick::CHANNEL_ALL - \\Imagick::CHANNEL_ALPHA);\n        return null;\n    }\n}\n")),(0,r.kt)("p",null,"You can just implement the driver interface that you need if you are not going to use the other one, is not mandatory\nto implement both."),(0,r.kt)("p",null,"The $id property is used to identify the alteration, and must be unique, if you try to register an alteration with an\nid that is already registered, an exception will be thrown."),(0,r.kt)("p",null,"Then you can apply it to an image, by calling the ",(0,r.kt)("inlineCode",{parentName:"p"},"->alterate()")," method, or the magic method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"use SergiX44\\ImageZen\\Image;\n\n$image = Image::make('path/to/image.jpg');\n\n// register the alteration\n$image->register(MyInvert::class);\n\n// apply the alteration\n$image->alterate('myInvert', 10);\n// or\n$image->myInvert(10);\n    \n")),(0,r.kt)("p",null,"All parameters are passed to the constructor of the alteration."))}u.isMDXComponent=!0}}]);